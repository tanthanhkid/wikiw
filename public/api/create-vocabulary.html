<!DOCTYPE html>
<html>
<head>
    <title>Create Vocabulary API</title>
    <script>
        // This is a simple API endpoint simulation
        // In a real implementation, this would be a server-side script
        
        function handleRequest() {
            // Get the request data from URL parameters or POST body
            const urlParams = new URLSearchParams(window.location.search);
            const title = urlParams.get('title') || 'Test Title';
            const content = urlParams.get('content') || 'Test Content';
            const tags = urlParams.get('tags') || '';
            const categories = urlParams.get('categories') || '';
            
            // Simulate API response
            const response = {
                success: true,
                data: {
                    title: title,
                    slug: generateSlug(title),
                    filePath: `content/TU-KHAINIEM/${generateSlug(title)}/_index.md`,
                    url: `/tu-khainiem/${generateSlug(title)}/`
                }
            };
            
            // Return JSON response
            document.body.innerHTML = `
                <pre>${JSON.stringify(response, null, 2)}</pre>
                <script>
                    // If this is an AJAX request, return the response
                    if (window.parent !== window) {
                        window.parent.postMessage(response, '*');
                    }
                </script>
            `;
        }
        
        function generateSlug(title) {
            return title
                .toLowerCase()
                .normalize('NFD')
                .replace(/[\u0300-\u036f]/g, '') // Remove diacritics
                .replace(/[^a-z0-9\s-]/g, '') // Remove special characters
                .replace(/\s+/g, '-') // Replace spaces with hyphens
                .replace(/-+/g, '-') // Replace multiple hyphens with single
                .trim('-'); // Remove leading/trailing hyphens
        }
        
        // Handle the request when page loads
        window.onload = handleRequest;
    </script>
</head>
<body>
    <h1>Create Vocabulary API</h1>
    <p>Processing request...</p>
</body>
</html>