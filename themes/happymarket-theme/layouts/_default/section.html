{{ define "main" }}
<!-- DEBUG: Using section.html layout -->
<div class="mb-8">
    <!-- Section Header -->
    <header class="mb-8">
        <h1 class="text-4xl font-bold text-gray-900 mb-4">{{ .Title }}</h1>
        {{ if .Description }}
        <p class="text-xl text-gray-600 mb-4">{{ .Description }}</p>
        {{ end }}
    </header>

    <!-- Section Content -->
    {{ if .Content }}
    <div class="prose prose-lg max-w-none mb-8">
        {{ .Content }}
    </div>
    {{ end }}

    <!-- Pages List - COMMENTED OUT -->

    <!-- {{ $pages := where .Site.RegularPages "RelPermalink" "intersect" (slice "/bai-hoc/") }} -->
    <!-- {{ if $pages }}
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {{ range $pages }}
        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
            <h3 class="text-lg font-semibold text-gray-900 mb-2">
            <a href="{{ .RelPermalink }}" class="hover:text-orange-500">{{ .Title }}</a>
            </h3>
            {{ if .Description }}
            <p class="text-gray-600 text-sm mb-4">{{ .Description }}</p>
            {{ end }}
            <div class="flex items-center justify-between">
            <span class="text-xs text-gray-500">
                {{ if .Date }}{{ .Date.Format "02/01/2006" }}{{ end }}
            </span>
            <a href="{{ .RelPermalink }}" class="text-orange-600 hover:text-orange-700 text-sm font-medium">
                Đọc thêm →
            </a>
            </div>
        </div>
        {{ end }}
    </div>
    {{ end }} -->

{{ if .Pages }}
  <!-- {{ printf "DEBUG: Found %d pages" (len .Pages) }} -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {{ range .Pages }}
      {{ if (hasPrefix .RelPermalink "/bai-hoc/") }}
        <!-- {{ printf "DEBUG: Page Title = %s, Permalink = %s" .Title .RelPermalink }} -->
        <div class="bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow">
          <h3 class="text-lg font-semibold text-gray-900 mb-2">
            <a href="{{ .RelPermalink }}" class="hover:text-orange-500">{{ .Title }}</a>
          </h3>
          {{ if .Description }}
            <p class="text-gray-600 text-sm mb-4">{{ .Description }}</p>
          {{ end }}
          <div class="flex items-center justify-between">
            <span class="text-xs text-gray-500">
              {{ if .Date }}{{ .Date.Format "02/01/2006" }}{{ end }}
            </span>
            <a href="{{ .RelPermalink }}" class="text-orange-600 hover:text-orange-700 text-sm font-medium">
              Đọc thêm →
            </a>
          </div>
        </div>
      {{ end }}
    {{ end }}
  </div>
{{ end }}




    <!-- Subsections -->
    <!-- {{ if .Sections }}
    <div class="mt-12">
        <h2 class="text-2xl font-bold text-gray-900 mb-6">Chủ đề con</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {{ range .Sections }}
            <div class="bg-gray-50 border border-gray-200 rounded-lg p-6">
                <h3 class="text-lg font-semibold text-gray-900 mb-2">
                    <a href="{{ .RelPermalink }}" class="hover:text-orange-500">{{ .Title }}</a>
                </h3>
                {{ if .Description }}
                <p class="text-gray-600 text-sm mb-4">{{ .Description }}</p>
                {{ end }}
                <div class="text-sm text-gray-500">
                    {{ len .Pages }} bài viết
                </div>
            </div>
            {{ end }}
        </div>
    </div>
    {{ end }} -->
</div>
{{ end }}
